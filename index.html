<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodaKit - Supercharge Your Coda Workspace</title>
    <meta name="description" content="The missing toolkit for Coda power users. Advanced charts, smart forms, automation templates, and more. Join the waitlist for exclusive founder pricing.">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="57x57" href="img/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="img/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="img/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="img/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="img/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="img/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="img/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="img/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="img/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="img/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="img/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon/favicon-16x16.png">
    <link rel="manifest" href="img/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="img/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">    


    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- Google Ads Global Site Tag (gtag.js) - REPLACE AW-CONVERSION_ID WITH YOUR ID -->
    <!-- 
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-CONVERSION_ID"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'AW-CONVERSION_ID');
    </script> 
    -->
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <div class="logo-placeholder">
                <!-- Replace with your logo: <img src="your-logo.png" alt="Your Product" class="logo"> -->
                <img src="img/icon-trimmed.png" alt="" height="30px" width="30px">
                CodaKit
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <!-- Coming Soon Badge -->
            <div class="badge badge-coming-soon">
                <svg class="badge-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"/>
                </svg>
                Coming Soon
            </div>

            <!-- Hero Title -->
            <h1 class="hero-title">
                The <span class="gradient-text">missing toolkit</span> for Coda power users
            </h1>

            <!-- Hero Description -->
            <p class="hero-description">
                Advanced charts, smart forms, and automation that seamlessly extend your Coda workspace.
            </p>

            <!-- Waitlist Form (Powered by Formspree) -->
            <form class="waitlist-form" id="waitlistForm">
                <div class="form-row">
                    <input 
                        type="email" 
                        name="email" 
                        id="email"
                        class="email-input" 
                        placeholder="Enter your email address"
                        required
                    >
                    <button type="submit" class="btn-waitlist">
                        Join Waitlist
                        <svg class="arrow-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14"/>
                            <path d="m12 5 7 7-7 7"/>
                        </svg>
                    </button>
                </div>
                <p class="form-note">Join the waitlist to lock in 50% founder pricing ($39/month) at launch. No spam, ever.</p>
            </form>
        </div>
    </section>

    <!-- Problem Section -->
    <section class="problem-section">
        <div class="problem-container">
            <div class="section-header">
                <div class="badge badge-red">
                    <svg class="badge-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="12" y1="8" x2="12" y2="12"/>
                        <line x1="12" y1="16" x2="12.01" y2="16"/>
                    </svg>
                    The limitations
                </div>
                <h2 class="section-title">You've hit Coda's ceiling</h2>
                <p class="section-description">
                    As a power user, you've encountered these frustrations that slow you down.
                </p>
            </div>

            <div class="problem-cards">
                <div class="problem-card">
                    <p>
                        <strong>Basic charts aren't cutting it.</strong> You need Gantt charts for project timelines, Sankey diagrams for flow visualization, and custom dashboards that go beyond bar and pie charts. Coda's native options feel limiting.
                    </p>
                </div>
                <div class="problem-card">
                    <p>
                        <strong>Forms lack intelligence.</strong> You want conditional logic, multi-step flows, custom validation, and the ability to pre-fill from existing data. But Coda forms are too simple for complex workflows.
                    </p>
                </div>
                <div class="problem-card">
                    <p>
                        <strong>No safety net for your docs.</strong> You've built critical systems in Coda, but there's no automated backup or version control. One wrong button click could mean losing weeks of work.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Workflow Section -->
    <section class="workflow-section">
        <div class="workflow-container">
            <div class="section-header">
                <div class="badge badge-green">
                    <svg class="badge-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"/>
                    </svg>
                    What's included
                </div>
                <h2 class="section-title">
                    Four powerful tools that <span class="gradient-text">extend Coda's capabilities</span>
                </h2>
                <p class="section-description">
                    Each module integrates seamlessly with your existing Coda workspace.
                </p>
            </div>

            <div class="workflow-steps">
                <!-- Feature 1 -->
                <div class="workflow-step">
                    <div class="workflow-card">
                        <div class="workflow-card-content">
                            <div class="workflow-number blue">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="18" y1="20" x2="18" y2="10"/>
                                    <line x1="12" y1="20" x2="12" y2="4"/>
                                    <line x1="6" y1="20" x2="6" y2="14"/>
                                </svg>
                            </div>
                            <div class="workflow-text">
                                <h3>Advanced Charts & Visualizations</h3>
                                <p>Create Gantt charts, Sankey diagrams, and custom dashboards. Go beyond Coda's basic chart types with professional-grade visualizations.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Feature 2 (Highlighted) -->
                <div class="workflow-step">
                    <div class="workflow-card highlight">
                        <div class="workflow-card-content">
                            <div class="workflow-number purple">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                    <polyline points="14 2 14 8 20 8"/>
                                    <line x1="16" y1="13" x2="8" y2="13"/>
                                    <line x1="16" y1="17" x2="8" y2="17"/>
                                    <polyline points="10 9 9 9 8 9"/>
                                </svg>
                            </div>
                            <div class="workflow-text">
                                <h3>Smart Forms Builder</h3>
                                <p>Build forms with conditional logic, multi-step flows, and custom validation. Pre-fill from Coda data and save drafts automatically.</p>
                                <div class="ai-badge">
                                    <svg class="badge-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"/>
                                    </svg>
                                    Most Popular
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Feature 3 -->
                <div class="workflow-step">
                    <div class="workflow-card">
                        <div class="workflow-card-content">
                            <div class="workflow-number emerald">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                                    <path d="m9 12 2 2 4-4"/>
                                </svg>
                            </div>
                            <div class="workflow-text">
                                <h3>Automation Templates Library</h3>
                                <p>Access pre-built automation workflows for common tasks. One-click installation of automation recipes that solve real problems.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Feature 4 -->
                <div class="workflow-step">
                    <div class="workflow-card">
                        <div class="workflow-card-content">
                            <div class="workflow-number orange">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V8l-6-6z"/>
                                    <path d="M14 3v5h5M16 13H8M16 17H8M10 9H8"/>
                                </svg>
                            </div>
                            <div class="workflow-text">
                                <h3>Backup & Version Control</h3>
                                <p>Automated daily backups to Google Drive. Compare versions, restore any doc, and never lose work again. Peace of mind for critical systems.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Feature 5 (Integrations) -->
                <div class="workflow-step">
                    <div class="workflow-card">
                        <div class="workflow-card-content">
                            <div class="workflow-number blue">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"/>
                                    <line x1="2" y1="12" x2="22" y2="12"/>
                                    <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                                </svg>
                            </div>
                            <div class="workflow-text">
                                <h3>Seamless Integrations</h3>
                                <p>Deep 2-way sync with Slack, Google Sheets, and other tools. Trigger actions and update records across your entire stack.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Personas Section -->
    <section class="personas-section">
        <div class="personas-container">
            <div class="personas-header">
                <div class="badge badge-dark">Who it's for</div>
                <h3>Built for Coda power users</h3>
                <p>If you're pushing Coda to its limits, CodaKit was made for you.</p>
            </div>

            <div class="personas-grid">
                <div class="persona-card">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="2" y="7" width="20" height="14" rx="2" ry="2"/>
                        <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>
                    </svg>
                    <h4>Project Managers</h4>
                    <p>Track complex timelines with Gantt charts and visualize dependencies across projects. Automate status updates and reporting.</p>
                </div>
                <div class="persona-card">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                    <h4>Operations Teams</h4>
                    <p>Build sophisticated workflows with smart forms and automation templates. Reduce manual data entry and eliminate repetitive tasks.</p>
                </div>
                <div class="persona-card">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="m3 11 18-5v12L3 14v-3z"/>
                        <path d="M11.6 16.8a3 3 0 1 1-5.8-1.6"/>
                    </svg>
                    <h4>Product Teams</h4>
                    <p>Create custom intake forms with conditional logic. Build dashboards that show what matters. Manage roadmaps visually.</p>
                </div>
                <div class="persona-card">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                        <circle cx="8.5" cy="7" r="4"/>
                        <polyline points="17 11 19 13 23 9"/>
                    </svg>
                    <h4>Consultants</h4>
                    <p>Manage multiple client docs with automated backups. Clone proven templates and workflows. Never lose critical client data.</p>
                </div>
                <div class="persona-card">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="20" x2="18" y2="10"/>
                        <line x1="12" y1="20" x2="12" y2="4"/>
                        <line x1="6" y1="20" x2="6" y2="14"/>
                    </svg>
                    <h4>Data Analysts</h4>
                    <p>Create advanced visualizations like Sankey diagrams and custom charts. Build dashboards that tell the story your data needs.</p>
                </div>
                <div class="persona-card">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"/>
                    </svg>
                    <h4>Startup Founders</h4>
                    <p>Run your entire operation in Coda with confidence. Automated backups protect your system of record. Scale without limits.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Secondary CTA Section -->
    <section class="problem-section" style="background: var(--primary-50);">
        <div class="problem-container" style="text-align: center;">
            <div class="section-header" style="margin-bottom: 2rem;">
                <h2 class="section-title">Ready to unleash your <span class="gradient-text">full potential?</span></h2>
                <p class="section-description">
                    Don't let Coda's limits hold your team back. Join the waitlist today.
                </p>
            </div>
            
            <form class="waitlist-form" style="margin: 0 auto;">
                <div class="form-row">
                    <input 
                        type="email" 
                        name="email" 
                        class="email-input" 
                        placeholder="Enter your email address"
                        required
                    >
                    <button type="submit" class="btn-waitlist">
                        Join Waitlist
                        <svg class="arrow-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14"/>
                            <path d="m12 5 7 7-7 7"/>
                        </svg>
                    </button>
                </div>
                <p class="form-note">Join the waitlist to lock in 50% founder pricing ($39/month) at launch.</p>
            </form>
        </div>
    </section>

    <!-- FAQ Section (with footer background) -->
    <div class="footer-wrapper" style="background-image: url('img/footer-bg.webp');">
        <div class="footer-overlay">
            <div class="footer-content">
                <section class="faq-section">
                    <div class="faq-container">
                        <div class="faq-header">
                            <div class="badge badge-cyan">
                                <svg class="badge-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"/>
                                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                                    <path d="M12 17h.01"/>
                                </svg>
                                FAQs
                            </div>
                            <h2>Frequently asked questions</h2>
                            <p>Everything you need to know about CodaKit and early access.</p>
                        </div>

                        <div class="faq-grid">
                            <div class="faq-item">
                                <h3>What is CodaKit?</h3>
                                <p>CodaKit is a suite of advanced tools that extend Coda's capabilities. It includes advanced charts, smart forms, automation templates, and backup features—everything power users need but Coda doesn't offer natively.</p>
                            </div>
                            <div class="faq-item">
                                <h3>Who is it for?</h3>
                                <p>CodaKit is built for Coda power users who've hit the platform's limits—project managers, operations teams, consultants, and anyone running critical systems in Coda.</p>
                            </div>
                            <div class="faq-item">
                                <h3>How does it integrate with Coda?</h3>
                                <p>CodaKit works seamlessly within your existing Coda workspace through Coda Packs. No data migration needed—just install and start using the enhanced features immediately.</p>
                            </div>
                            <div class="faq-item">
                                <h3>What chart types are included?</h3>
                                <p>We support Gantt charts, Sankey diagrams, advanced bar/line charts, heatmaps, funnel charts, and custom dashboard components that go far beyond Coda's native options.</p>
                            </div>
                            <div class="faq-item">
                                <h3>How do smart forms work?</h3>
                                <p>Smart forms feature conditional logic (show/hide fields based on answers), multi-step flows, custom validation rules, draft saving, and pre-filling from your Coda data—all without code.</p>
                            </div>
                            <div class="faq-item">
                                <h3>How does pricing work?</h3>
                                <p>Regular pricing is $79/month per workspace. Join the waitlist now to lock in 50% off forever—just $39/month when we launch. No payment required to join.</p>
                            </div>
                            <div class="faq-item">
                                <h3>How do backups work?</h3>
                                <p>CodaKit automatically backs up your docs daily to your Google Drive. You can compare versions, see what changed, and restore any version with one click—complete peace of mind.</p>
                            </div>
                            <div class="faq-item">
                                <h3>Can I use this with existing docs?</h3>
                                <p>Absolutely! CodaKit enhances your existing Coda docs without requiring any migration or restructuring. Add advanced features to the docs you already use every day.</p>
                            </div>
                            <div class="faq-item">
                                <h3>Does this replace Coda?</h3>
                                <p>No, CodaKit extends Coda—it doesn't replace it. Think of it as adding premium features to Coda for power users. You still use Coda as your foundation.</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Footer -->
                <footer>
                    <div class="footer-container">
                        <div class="footer-row">
                            <!-- Left: Logo -->
                            <div class="footer-left">
                                <div class="footer-logo-placeholder">
                                    <img src="img/icon-trimmed.png" alt="CodaKit" height="30px" width="30px">
                                    CodaKit
                                </div>
                            </div>

                            <!-- Right: Copyright -->
                            <div class="footer-right">
                                <p class="footer-copyright">&copy; 2025 CodaKit. All rights reserved.</p>
                            </div>
                        </div>
                    </div>
                </footer>
            </div>
        </div>
    </div>
    <!-- Toast Container -->
    <div id="toast-container"></div>

    <script>
        const WAITLIST_STORAGE_KEY = 'codakit_waitlist_submitted';

        // Check if user has already submitted on page load
        function checkExistingSubmission() {
            if (localStorage.getItem(WAITLIST_STORAGE_KEY)) {
                const forms = document.querySelectorAll('.waitlist-form');
                forms.forEach(form => {
                    form.innerHTML = `
                        <div class="already-joined">
                            <svg class="already-joined-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                                <polyline points="22 4 12 14.01 9 11.01"/>
                            </svg>
                            <span>You're already on the waitlist! We'll be in touch soon.</span>
                        </div>
                    `;
                });
            }
        }

        // Run check on page load
        checkExistingSubmission();

        // Toast Notification Logic
        function showToast(title, message, type = 'success') {
            const container = document.getElementById('toast-container');
            
            // Create toast element
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            
            // Icons based on type
            let iconSvg = '';
            if (type === 'success') {
                iconSvg = `<svg class="toast-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>`;
            } else {
                iconSvg = `<svg class="toast-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>`;
            }

            toast.innerHTML = `
                ${iconSvg}
                <div class="toast-content">
                    <div class="toast-title">${title}</div>
                    <div class="toast-message">${message}</div>
                </div>
                <button class="toast-close" onclick="this.parentElement.remove()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                </button>
            `;

            container.appendChild(toast);

            // Auto remove after 5 seconds
            setTimeout(() => {
                toast.classList.add('hiding');
                toast.addEventListener('animationend', () => {
                    toast.remove();
                });
            }, 5000);
        }

        // Attach event listeners to all forms
        document.querySelectorAll('.waitlist-form').forEach(form => {
            form.addEventListener('submit', async function(e) {
                e.preventDefault(); // Stop the default form submission
            
                const form = e.target;
                const emailInput = form.querySelector('input[type="email"]');
                const submitButton = form.querySelector('button[type="submit"]');
                const originalButtonText = submitButton.innerHTML;
                
                // Set Loading State
                submitButton.disabled = true;
                submitButton.innerHTML = 'Joining...';
                
                const endpoint = 'https://email-collector-service-332139474812.us-central1.run.app/submit';
            
                const data = {
                    email: emailInput.value
                };
            
                try {
                    const response = await fetch(endpoint, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(data)
                    });
            
                    if (response.ok) {
                        // Mark as submitted in localStorage
                        localStorage.setItem(WAITLIST_STORAGE_KEY, 'true');

                        // Report Conversion to Google Ads
                        // gtag_report_conversion(); 
                        
                        showToast('Success!', 'You have been added to the waitlist.', 'success');
                        
                        // Replace ALL forms with confirmation message to keep state consistent
                        document.querySelectorAll('.waitlist-form').forEach(f => {
                            f.innerHTML = `
                                <div class="already-joined">
                                    <svg class="already-joined-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                                        <polyline points="22 4 12 14.01 9 11.01"/>
                                    </svg>
                                    <span>You're on the list! We'll be in touch soon.</span>
                                </div>
                            `;
                        });
                    } else {
                        const error = await response.json();
                        showToast('Error', 'Submission failed: ' + (error.message || 'Unknown error.'), 'error');
                        // Reset Loading State on error
                        submitButton.disabled = false;
                        submitButton.innerHTML = originalButtonText;
                    }
                } catch (error) {
                    console.error('Network error:', error);
                    showToast('Network Error', 'Could not reach the submission server.', 'error');
                    // Reset Loading State on error
                    submitButton.disabled = false;
                    submitButton.innerHTML = originalButtonText;
                }
            });
        });

        // Google Ads Conversion Reporting Function - REPLACE AW-CONVERSION_ID/LABEL
        /*
        function gtag_report_conversion(url) {
          var callback = function () {
            if (typeof(url) != 'undefined') {
              window.location = url;
            }
          };
          gtag('event', 'conversion', {
              'send_to': 'AW-CONVERSION_ID/CONVERSION_LABEL',
              'event_callback': callback
          });
          return false;
        }
        */
    </script>
</body>
</html>
